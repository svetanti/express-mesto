{"version":3,"sources":["contexts/CurrentUserContext.js","utils/Api.js","utils/utils.js","components/Header.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/ImagePopup.js","components/Footer.js","components/App.js","serviceWorker.js","index.js","images/header/logo.svg"],"names":["CurrentUserContext","React","createContext","api","options","this","_url","baseUrl","_headers","headers","path","parameters","fetch","then","res","ok","json","Promise","reject","status","_sendRequest","newUserInfo","method","body","JSON","stringify","name","about","newCard","link","id","isLiked","avatar","url","authorization","Header","className","src","logoPath","alt","Card","props","currentUser","useContext","card","onCardClick","onCardLike","onCardDelete","isOwn","owner","_id","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","type","onClick","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","map","key","PopupWithForm","isOpen","onSubmit","onClose","formName","title","children","submitButtonText","disabled","isLoading","EditProfilePopup","onUpdateUser","nameRef","useRef","descriptionRef","useState","setName","description","setDescription","nameError","setNameError","descriptionError","setDescriptionError","nameValid","setNameValid","descriptionValid","setDescriptionValid","setDisabled","handleChange","evt","target","value","current","validationMessage","validity","valid","useEffect","preventDefault","htmlFor","ref","placeholder","minLength","maxLength","pattern","required","onChange","EditAvatarPopup","onUpdateAvatar","inputRef","urlError","setUrlError","urlValid","setUrlValid","AddPlacePopup","linkRef","setLink","linkError","setLinkError","linkValid","setLinkValid","ConfirmPopup","onConfirmDelete","ImagePopup","Footer","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isImageOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","isConfirmPopupOpen","setConfirmPopupOpen","cardToDelete","setCardToDelete","setLoading","closeAllPopups","getUserInfo","catch","err","console","log","getInitialCards","cardData","Provider","changeLikeCardStatus","newCards","c","userData","updateUserInfo","newUser","finally","newAvatar","updateUserAvatar","addNewCard","deleteCard","filter","item","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message","module","exports"],"mappings":"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","file":"static/js/main.9ffd7c9b.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import { apiOptions } from './utils';\r\n\r\nclass Api {\r\n  constructor(options) {\r\n    this._url = options.baseUrl;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  //Отправить запрос\r\n  _sendRequest(path, parameters) {\r\n    return fetch(`${this._url}${path}`, parameters).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(res.status);\r\n    });\r\n  }\r\n\r\n  //Получить данные пользователя\r\n  getUserInfo() {\r\n    return this._sendRequest(`users/me`, {\r\n      headers: this._headers,\r\n    });\r\n  }\r\n\r\n  //Получить карточки\r\n  getInitialCards() {\r\n    return this._sendRequest(`cards`, { headers: this._headers });\r\n  }\r\n\r\n  //Обновить информацию о пользователе\r\n  updateUserInfo(newUserInfo) {\r\n    return this._sendRequest(`users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: newUserInfo.name,\r\n        about: newUserInfo.about,\r\n      }),\r\n    });\r\n  }\r\n\r\n  //Добавить новую карточку\r\n  addNewCard(newCard) {\r\n    return this._sendRequest(`cards`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        name: newCard.name,\r\n        link: newCard.link,\r\n      }),\r\n      headers: this._headers,\r\n    });\r\n  }\r\n\r\n  changeLikeCardStatus(id, isLiked) {\r\n    return this._sendRequest(`cards/likes/${id}`, {\r\n      method: `${isLiked ? 'PUT' : 'DELETE'}`,\r\n      headers: this._headers,\r\n    });\r\n  }\r\n\r\n  //Удалить фото\r\n  deleteCard(id) {\r\n    return this._sendRequest(`cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    });\r\n  }\r\n\r\n  //Обновить аватар\r\n  updateUserAvatar(avatar) {\r\n    return this._sendRequest(`users/me/avatar`, {\r\n      method: 'PATCH',\r\n      body: JSON.stringify({ avatar: avatar.url }),\r\n      headers: this._headers,\r\n    });\r\n  }\r\n}\r\n\r\nexport const api = new Api(apiOptions);\r\n","export const apiOptions = {\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-12/',\r\n  headers: {\r\n    authorization: 'b40f325a-73c8-493d-8833-d885268eb953',\r\n    'Content-Type': 'application/json',\r\n  },\r\n};\r\n\r\n\r\n","import React from 'react';\r\nimport logoPath from '../images/header/logo.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className='header'>\r\n      <img src={logoPath} alt='Логотип сайта' className='logo' />\r\n      <h1 className='visually-hidden'>\r\n        Место: интерактивный сервис для добавления фотографий\r\n      </h1>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const { card, onCardClick, onCardLike, onCardDelete } = props;\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = `button ${\r\n    isOwn ? 'card__delete ' : 'card__delete_hidden'\r\n  }`;\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = `card__like button ${\r\n    isLiked && 'card__like_active'\r\n  }`;\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <li className='card'>\r\n      <button\r\n        type='button'\r\n        className={cardDeleteButtonClassName}\r\n        onClick={handleDeleteClick}\r\n      ></button>\r\n      <div className='card__container'>\r\n        <img\r\n          src={card.link}\r\n          alt={card.name}\r\n          className='card__photo'\r\n          onClick={handleClick}\r\n        />\r\n      </div>\r\n      <h2 className='card__caption'>{card.name}</h2>\r\n      <div className='card__like-block'>\r\n        <button\r\n          type='button'\r\n          className={cardLikeButtonClassName}\r\n          onClick={handleLikeClick}\r\n        ></button>\r\n        <span className='card__counter'>{card.likes.length}</span>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Card from './Card';\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const {\r\n    onEditAvatar,\r\n    onEditProfile,\r\n    onAddPlace,\r\n    onCardClick,\r\n    cards,\r\n    onCardLike,\r\n    onCardDelete,\r\n  } = props;\r\n\r\n  return (\r\n    <div className='main'>\r\n      <section className='profile'>\r\n        <div className='profile__avatar-overlay'>\r\n          <img\r\n            src={currentUser.avatar}\r\n            alt='Аватар пользователя'\r\n            className='profile__avatar'\r\n          />\r\n          <button\r\n            className='profile__button_action_avatar-change'\r\n            onClick={onEditAvatar}\r\n          ></button>\r\n        </div>\r\n        <div className='profile__info'>\r\n          <button\r\n            type='button'\r\n            className='button profile__button profile__button_action_edit'\r\n            onClick={onEditProfile}\r\n          ></button>\r\n          <p className='profile__name'>{currentUser.name}</p>\r\n          <p className='profile__about'>{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          type='button'\r\n          className='button profile__button profile__button_action_add'\r\n          onClick={onAddPlace}\r\n        ></button>\r\n      </section>\r\n      <ul className='elements'>\r\n        {cards.map((card) => (\r\n          <Card\r\n            key={card._id}\r\n            card={card}\r\n            onCardClick={onCardClick}\r\n            onCardLike={onCardLike}\r\n            onCardDelete={onCardDelete}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  const {\r\n    isOpen,\r\n    onSubmit,\r\n    onClose,\r\n    formName,\r\n    title,\r\n    children,\r\n    submitButtonText,\r\n    disabled,\r\n    isLoading,\r\n  } = props;\r\n\r\n  return (\r\n    <div className={`popup popup_type_${formName} ${isOpen && 'popup_opened'}`}>\r\n      <form\r\n        className={`popup__container popup__container_type_${formName}`}\r\n        name={formName}\r\n        onSubmit={onSubmit}\r\n      >\r\n        <button\r\n          type='reset'\r\n          className='button button_close popup__button popup__button_close'\r\n          onClick={onClose}\r\n        ></button>\r\n        <fieldset className='popup__input-container'>\r\n          <legend className='popup__heading'>{title}</legend>\r\n          {children}\r\n        </fieldset>\r\n        <button\r\n          type='submit'\r\n          className={`button popup__button popup__button_submit ${\r\n            isLoading && 'popup__button_submit_loading'\r\n          }`}\r\n          disabled={disabled}\r\n        >\r\n          {isLoading ? `Сохранение...` : submitButtonText}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useState, useRef } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const { isOpen, onClose, onUpdateUser, isLoading } = props;\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const nameRef = useRef();\r\n  const descriptionRef = useRef();\r\n\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [nameError, setNameError] = useState('');\r\n  const [descriptionError, setDescriptionError] = useState('');\r\n  const [nameValid, setNameValid] = useState(false);\r\n  const [descriptionValid, setDescriptionValid] = useState(false);\r\n  const [disabled, setDisabled] = useState(true);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, isOpen]);\r\n\r\n  React.useEffect(() => {\r\n    setDisabled(true);\r\n    setNameError('');\r\n    setDescriptionError('');\r\n  }, [isOpen]);\r\n\r\n  React.useEffect(() => {\r\n    nameValid && descriptionValid ? setDisabled(false) : setDisabled(true);\r\n  }, [nameValid, descriptionValid, name, description]);\r\n\r\n  function handleChange(evt) {\r\n    evt.target.name === 'name'\r\n      ? setName(evt.target.value)\r\n      : setDescription(evt.target.value);\r\n\r\n    validate();\r\n  }\r\n\r\n  function validate() {\r\n    setNameError(nameRef.current.validationMessage);\r\n    setDescriptionError(descriptionRef.current.validationMessage);\r\n\r\n    !nameRef.current.validity.valid ? setNameValid(false) : setNameValid(true);\r\n    !descriptionRef.current.validity.valid\r\n      ? setDescriptionValid(false)\r\n      : setDescriptionValid(true);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      formName='user'\r\n      title='Редактировать профиль'\r\n      submitButtonText='Сохранить'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      disabled={disabled}\r\n      isLoading={isLoading}\r\n    >\r\n      <label htmlFor='name' className='popup__field'>\r\n        <input\r\n          ref={nameRef}\r\n          type='text'\r\n          className='popup__input'\r\n          id='name'\r\n          name='name'\r\n          value={name || ''}\r\n          placeholder='Имя'\r\n          minLength='2'\r\n          maxLength='40'\r\n          pattern='[А-Яа-яA-Za-z -]{1,}'\r\n          required\r\n          onChange={handleChange}\r\n        />\r\n        <span\r\n          className={`popup__input-error ${\r\n            !nameValid && 'popup__input-error_active'\r\n          }`}\r\n          id='name-error'\r\n        >\r\n          {nameError}\r\n        </span>\r\n      </label>\r\n      <label htmlFor='about' className='popup__field'>\r\n        <input\r\n          ref={descriptionRef}\r\n          type='text'\r\n          className='popup__input'\r\n          id='about'\r\n          name='about'\r\n          value={description || ''}\r\n          placeholder='О себе'\r\n          minLength='2'\r\n          maxLength='200'\r\n          required\r\n          onChange={handleChange}\r\n        />\r\n        <span\r\n          className={`popup__input-error ${\r\n            !descriptionValid && 'popup__input-error_active'\r\n          }`}\r\n          id='about-error'\r\n        >\r\n          {descriptionError}\r\n        </span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React, { useState, useRef } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const { isOpen, onClose, onUpdateAvatar, isLoading } = props;\r\n  const inputRef = useRef('');\r\n\r\n  const [urlError, setUrlError] = useState('');\r\n  const [disabled, setDisabled] = useState(true);\r\n  const [urlValid, setUrlValid] = useState(false);\r\n\r\n  React.useEffect(() => {\r\n    setDisabled(true);\r\n    setUrlError('');\r\n    inputRef.current.value = '';\r\n  }, [isOpen]);\r\n\r\n  React.useEffect(() => {\r\n    urlValid ? setDisabled(false) : setDisabled(true);\r\n  }, [urlValid, inputRef.current.value]);\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateAvatar({ url: inputRef.current.value });\r\n  }\r\n\r\n  function validate() {\r\n    setUrlError(inputRef.current.validationMessage);\r\n\r\n    !inputRef.current.validity.valid ? setUrlValid(false) : setUrlValid(true);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      formName='avatar'\r\n      title='Обновить аватар'\r\n      submitButtonText='Сохранить'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      disabled={disabled}\r\n      isLoading={isLoading}\r\n    >\r\n      <label htmlFor='url' className='popup__field'>\r\n        <input\r\n          ref={inputRef}\r\n          type='url'\r\n          className='popup__input'\r\n          id='url'\r\n          name='url'\r\n          placeholder='Ссылка на аватар'\r\n          required\r\n          onChange={validate}\r\n        />\r\n        <span\r\n          className={`popup__input-error ${\r\n            !urlValid && 'popup__input-error_active'\r\n          }`}\r\n          id='url-error'\r\n        >\r\n          {urlError}\r\n        </span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React, { useState, useRef } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const { isOpen, onClose, onAddPlace, isLoading } = props;\r\n\r\n  const nameRef = useRef();\r\n  const linkRef = useRef();\r\n\r\n  const [name, setName] = useState('');\r\n  const [link, setLink] = useState('');\r\n  const [nameError, setNameError] = useState('');\r\n  const [linkError, setLinkError] = useState('');\r\n  const [nameValid, setNameValid] = useState(false);\r\n  const [linkValid, setLinkValid] = useState(false);\r\n  const [disabled, setDisabled] = useState(true);\r\n\r\n  React.useEffect(() => {\r\n    setDisabled(true);\r\n    setNameError('');\r\n    setLinkError('');\r\n    setName('');\r\n    setLink('');\r\n  }, [isOpen]);\r\n\r\n  React.useEffect(() => {\r\n    nameValid && linkValid ? setDisabled(false) : setDisabled(true);\r\n  }, [nameValid, linkValid, name, link]);\r\n\r\n  function handleChange(evt) {\r\n    evt.target.name === 'name'\r\n      ? setName(evt.target.value)\r\n      : setLink(evt.target.value);\r\n\r\n    validate();\r\n  }\r\n\r\n  function validate() {\r\n    setNameError(nameRef.current.validationMessage);\r\n    setLinkError(linkRef.current.validationMessage);\r\n\r\n    !nameRef.current.validity.valid ? setNameValid(false) : setNameValid(true);\r\n    !linkRef.current.validity.valid ? setLinkValid(false) : setLinkValid(true);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onAddPlace({\r\n      name,\r\n      link,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      formName='photo'\r\n      title='Новое место'\r\n      submitButtonText='Создать'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      disabled={disabled}\r\n      isLoading={isLoading}\r\n    >\r\n      <label htmlFor='name' className='popup__field'>\r\n        <input\r\n          ref={nameRef}\r\n          className='popup__input'\r\n          id='name'\r\n          name='name'\r\n          value={name || ''}\r\n          placeholder='Название'\r\n          minLength='1'\r\n          maxLength='30'\r\n          required\r\n          onChange={handleChange}\r\n        />\r\n        <span\r\n          className={`popup__input-error ${\r\n            !nameValid && 'popup__input-error_active'\r\n          }`}\r\n          id='name-error'\r\n        >\r\n          {nameError}\r\n        </span>\r\n      </label>\r\n      <label htmlFor='link' className='popup__field'>\r\n        <input\r\n          ref={linkRef}\r\n          type='url'\r\n          className='popup__input'\r\n          id='link'\r\n          name='link'\r\n          value={link || ''}\r\n          placeholder='Ссылка на картинку'\r\n          required\r\n          onChange={handleChange}\r\n        />\r\n        <span\r\n          className={`popup__input-error ${\r\n            !linkValid && 'popup__input-error_active'\r\n          }`}\r\n          id='link-error'\r\n        >\r\n          {linkError}\r\n        </span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction ConfirmPopup(props) {\r\n  const { isOpen, onClose, onConfirmDelete, isLoading } = props;\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onConfirmDelete();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      formName='delete'\r\n      title='Вы уверены?'\r\n      submitButtonText='Да'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={isLoading}\r\n    ></PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default ConfirmPopup;\r\n","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n  const { isOpen, onClose, link, name } = props;\r\n\r\n  return (\r\n    <div className={`popup photo ${isOpen && 'popup_opened'}`}>\r\n      <figure className='photo__figure'>\r\n        <button\r\n          type='reset'\r\n          className='photo__close button button_close'\r\n          onClick={onClose}\r\n        ></button>\r\n        <img className='photo__img' src={link} alt={name} />\r\n        <figcaption className='photo__caption'>{name}</figcaption>\r\n      </figure>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className='footer'>\r\n      <p className='footer__copyright'>&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React, { useState } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport '../index.css';\r\nimport { api } from '../utils/Api';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ConfirmPopup from './ConfirmPopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport Footer from './Footer';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({\r\n    isImageOpen: false,\r\n    link: '',\r\n    name: '',\r\n  });\r\n  const [cards, setCards] = useState([]);\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [isConfirmPopupOpen, setConfirmPopupOpen] = useState(false);\r\n  const [cardToDelete, setCardToDelete] = useState({});\r\n  const [isLoading, setLoading] = useState();\r\n\r\n  //Получить данные пользователя\r\n  React.useEffect(() => {\r\n    api\r\n      .getUserInfo()\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n      })\r\n      .catch((err) =>\r\n        console.log(`Ошибка при загрузке информации о пользователе: ${err}`)\r\n      );\r\n  }, []);\r\n\r\n  //Получить карточки\r\n  React.useEffect(() => {\r\n    api\r\n      .getInitialCards()\r\n      .then((cardData) => {\r\n        setCards(cardData);\r\n      })\r\n      .catch((err) => console.log(`Ошибка при загрузке карточек: ${err}`));\r\n  }, []);\r\n\r\n  //Лайк/дизлайк карточки\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) =>\r\n        console.log(`Ошибка при попытке поставить/снять лайк: ${err}`)\r\n      );\r\n  }\r\n\r\n  //Удалить карточку после подтверждения\r\n  function handleConfirm() {\r\n    api\r\n      .deleteCard(cardToDelete._id)\r\n      .then(() => setCards(cards.filter((item) => item !== cardToDelete)))\r\n      .catch((err) => console.log(`Ошибка при удалении карточки: ${err}`));\r\n    closeAllPopups();\r\n  }\r\n\r\n  //Кликнуть на удаление карточки\r\n  function handleCardDelete(card) {\r\n    setConfirmPopupOpen(true);\r\n    setCardToDelete(card);\r\n  }\r\n\r\n  //Открыть AvatarPopup\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  //Открыть EditProfilePopup\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  //Открыть AddPlacePopup\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n\r\n  //Открыть увеличенное фото\r\n  function handleCardClick(card) {\r\n    const { link, name } = card;\r\n    setSelectedCard({ isImageOpen: true, link: link, name: name });\r\n  }\r\n\r\n  //Закрыть все попапы\r\n  function closeAllPopups() {\r\n    setEditProfilePopupOpen(false);\r\n    setEditAvatarPopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setSelectedCard({\r\n      isImageOpen: false,\r\n      link: '',\r\n      name: '',\r\n    });\r\n    setConfirmPopupOpen(false);\r\n  }\r\n\r\n  //Обновить аватар\r\n  function handleUpdateAvatar(newAvatar) {\r\n    setLoading(true);\r\n    api\r\n      .updateUserAvatar(newAvatar)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(`Ошибка при обновлении аватара: ${err}`))\r\n      .finally(() => setLoading(false));\r\n  }\r\n\r\n  //Обновить данные пользователя\r\n  function handleUpdateUser(userData) {\r\n    setLoading(true);\r\n    api\r\n      .updateUserInfo(userData)\r\n      .then((newUser) => setCurrentUser(newUser))\r\n      .catch((err) => `Ошибка при обновлении информации о пользователе: ${err}`)\r\n      .finally(() => setLoading(false));\r\n    closeAllPopups();\r\n  }\r\n\r\n  //Добавить карточку\r\n  function handleAddPlace(card) {\r\n    setLoading(true);\r\n    api\r\n      .addNewCard(card)\r\n      .then((newCard) => setCards([newCard, ...cards]))\r\n      .catch((err) =>\r\n        console.log(`Ошибка при добавлении новой карточки: ${err}`)\r\n      )\r\n      .finally(() => setLoading(false));\r\n    closeAllPopups();\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className='page'>\r\n        <Header />\r\n        <Main\r\n          cards={cards}\r\n          onCardClick={handleCardClick}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleCardDelete}\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onEditAvatar={handleEditAvatarClick}\r\n        />\r\n        <Footer />\r\n\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n          isLoading={isLoading}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n          isLoading={isLoading}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlace}\r\n        />\r\n        <ConfirmPopup\r\n          isOpen={isConfirmPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onConfirmDelete={handleConfirm}\r\n        />\r\n\r\n        <ImagePopup\r\n          name={selectedCard.name}\r\n          link={selectedCard.link}\r\n          onClose={closeAllPopups}\r\n          isOpen={selectedCard.isImageOpen}\r\n        />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.855a8c98.svg\";"],"sourceRoot":""}